(this["webpackJsonpmy-project"]=this["webpackJsonpmy-project"]||[]).push([[0],{10:function(e,t,n){e.exports={nav:"Nav_nav__1b8zf",item:"Nav_item__2Juri",activeLink:"Nav_activeLink__1GgLb"}},15:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var r=n(55),a=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"be226811-1c2d-4462-a825-3b4251ba6858"}}),s={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUsers:function(e){return a.delete("follow/".concat(e)).then((function(e){return e.data}))},unfollowUsers:function(e){return a.post("follow/".concat(e),{}).then((function(e){return e.data}))},getProfile:function(e){return a.get("profile/".concat(e)).then((function(e){return e.data}))}},c={getProfile:function(e){return a.get("profile/".concat(e)).then((function(e){return e.data}))},getUserStatus:function(e){return a.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateUserStatus:function(e){return a.put("profile/status",{status:e}).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}},i={me:function(){return a.get("auth/me").then((function(e){return e.data}))},login:function(e,t,n){return a.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logout:function(){return a.delete("auth/login").then((function(e){return e.data}))}}},18:function(e,t,n){e.exports={railway:"Login_railway__NUuiF",formRow:"Login_formRow__3EO5B","form-row":"Login_form-row__136pk","ui-form":"Login_ui-form__1QQl5",error:"Login_error__1G0CB",errorMessage:"Login_errorMessage__3kHnN"}},24:function(e,t,n){"use strict";var r=n(42),a=n.n(r),s=n(0);t.a=function(){return Object(s.jsx)("div",{className:a.a.preloader,children:Object(s.jsx)("div",{className:a.a.spinner})})}},25:function(e,t,n){e.exports={formRow:"ProfileDataForm_formRow__Zv9bE",description:"ProfileDataForm_description__3TRoi",error:"ProfileDataForm_error__2NWj3",checkbox:"ProfileDataForm_checkbox__3CElC"}},27:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return f}));var r=n(5),a=n.n(r),s=n(9),c=n(2),i=n(15),o="auth/SET_USER_DATA",u="auth/ERROR_MESSAGE_RESPONSE",l={id:null,login:null,email:null,isAuth:!1,messageError:null},j=function(e,t,n,r){return{type:o,data:{id:e,login:t,email:n,isAuth:r}}},d=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.me();case 2:0===(n=e.sent).resultCode&&(r=n.data,s=r.id,c=r.login,o=r.email,t(j(s,c,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e,t,n){return function(){var r=Object(s.a)(a.a.mark((function r(s){var c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.b.login(e,t,n);case 2:0===(c=r.sent).resultCode?s(d()):s((a=c.messages[0],{type:u,message:a}));case 4:case"end":return r.stop()}var a}),r)})));return function(e){return r.apply(this,arguments)}}()},f=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.logout();case 2:0===e.sent.resultCode&&t(j(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(c.a)(Object(c.a)({},e),t.data);case u:return Object(c.a)(Object(c.a)({},e),{},{messageError:t.message});default:return e}}},32:function(e,t,n){e.exports={postBlock:"PostForm_postBlock__f-alt",error:"PostForm_error__gsWWp"}},34:function(e,t,n){e.exports={buttonBlock:"styleButton_buttonBlock__3mT6X"}},38:function(e,t,n){e.exports={header:"Header_header__14Mg1",loginBlock:"Header_loginBlock__SXAi6",activeLink:"Header_activeLink__1KRaB"}},41:function(e,t,n){e.exports={item:"MyPosts_item__3U-2Z"}},42:function(e,t,n){e.exports={preloader:"preloader_preloader__TwXVr",spinner:"preloader_spinner__1qAhX",spin:"preloader_spin__Nbr0G"}},51:function(e,t,n){"use strict";t.a=n.p+"static/media/users.d2cb85e1.png"},52:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(28),a=n(2),s="SEND_MESSAGE",c={dialogs:[{id:"id1",name:"Alexander"},{id:"id2",name:"Anna"},{id:"id3",name:"Ivan"},{id:"id4",name:"Oleg"},{id:"id5",name:"Dmitriy"},{id:"id6",name:"Ekaterina"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you"},{id:3,message:"Yo"}]},i=function(e){return{type:s,message:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n=t.message;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}}},53:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return N})),n.d(t,"f",(function(){return k}));var r=n(5),a=n.n(r),s=n(9),c=n(28),i=n(2),o=n(15),u=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(i.a)(Object(i.a)({},e),r):e}))},l="usersPage/FOLLOW",j="usersPage/UNFOLLOW",d="usersPage/SET_USERS",b="usersPage/SET_CURRENT_PAGE",f="usersPage/SET_USERS_COUNT",p="usersPage/TOGGLE_IS_FETCHING",O="usersPage/TOGGLE_IS_FOLLOWING_PROGRESS",h={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},m=function(e){return{type:l,userId:e}},x=function(e){return{type:j,userId:e}},v=function(e){return{type:b,currentPage:e}},g=function(e){return{type:p,isFetching:e}},_=function(e,t){return{type:O,isFetching:e,userId:t}},w=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(g(!0)),n.next=3,o.c.getUsers(e,t);case 3:s=n.sent,r(g(!1)),r((c=s.items,{type:d,users:c})),r((a=s.totalCount,{type:f,totalUsersCount:a}));case 7:case"end":return n.stop()}var a,c}),n)})));return function(e){return n.apply(this,arguments)}}()},P=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(s(n)),t(_(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),N=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:P(n,e,o.c.followUsers.bind(e),x);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:P(n,e,o.c.unfollowUsers.bind(e),m);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!0})});case j:return Object(i.a)(Object(i.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!1})});case d:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case b:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case f:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalUsersCount});case p:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case O:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},56:function(e,t,n){e.exports={item:"Post_item__1G2gB"}},57:function(e,t,n){},58:function(e,t,n){e.exports={statusItems:"ProfileStatus_statusItems__1BjuQ"}},60:function(e,t,n){},7:function(e,t,n){e.exports={profileItems:"ProfileInfo_profileItems__3BB7x",item:"ProfileInfo_item__2fw3z",descriptionBlock:"ProfileInfo_descriptionBlock__aDofq",description:"ProfileInfo_description__3LXYB",fullName:"ProfileInfo_fullName__mYfeo",aboutMe:"ProfileInfo_aboutMe__2T4dh",contactsMe:"ProfileInfo_contactsMe__2n9lR",ownerItem:"ProfileInfo_ownerItem__3kWZZ",addFont:"ProfileInfo_addFont__3Ecou"}},70:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);n(60);var r=function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,105)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},a=n(33),s=n.n(a),c=n(19),i=n(20),o=n(22),u=n(21),l=n(1),j=n(17),d=n(4),b=n(12),f=n(23),p=(n(70),n(2)),O=n(38),h=n.n(O),m=n.p+"static/media/logo_header.4a51053d.png",x=n(0),v=function(e){var t=e.isAuth,n=e.login;return Object(x.jsxs)("header",{className:h.a.header,children:[Object(x.jsx)("img",{src:m}),Object(x.jsx)("div",{className:h.a.loginBlock,children:t?Object(x.jsx)(b.b,{to:"/setting",children:n}):Object(x.jsx)(b.b,{to:"/login",children:"Login"})})]})},g=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(x.jsx)(v,Object(p.a)({},this.props))}}]),n}(l.Component),_=Object(j.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),null)(g),w=n(27),P=n(8),N=n(18),k=n.n(N),y=function(e){var t=e.authLogin,n=e.isAuth,r=e.message;return n?Object(x.jsx)(d.a,{to:"/profile"}):Object(x.jsx)(P.b,{onSubmit:function(e){t(e.login,e.password,e.rememberMe)},validate:function(e){var t={};return e.login&&(e.login.length<3||e.login.length>20)&&(t.login="login must be from 3 to 20 characters"),e.password&&(e.password.length<8||e.password.length>12)&&(t.password="password must be from 8 to 12 characters"),e.login||(t.login="Required"),e.password||(t.password="Required"),t},render:function(e){var t=e.handleSubmit;return Object(x.jsx)("form",{className:k.a.railway,onSubmit:t,children:Object(x.jsxs)("div",{className:k.a.loginItems,children:[Object(x.jsx)("h2",{children:"Login"}),Object(x.jsx)("div",{className:k.a.formRow,children:Object(x.jsx)(P.a,{name:"login",render:function(e){var t=e.input,n=e.meta;return Object(x.jsxs)("div",{children:[Object(x.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"Login"})),n.touched&&(n.error||n.submitError)&&Object(x.jsx)("div",{className:k.a.error,children:n.error||n.submitError})]})}})}),Object(x.jsx)("div",{className:k.a.formRow,children:Object(x.jsx)(P.a,{name:"password",render:function(e){var t=e.input,n=e.meta;return Object(x.jsxs)("div",{children:[Object(x.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"password",placeholder:"Password"})),n.touched&&(n.error||n.submitError)&&Object(x.jsx)("div",{className:k.a.error,children:n.error||n.submitError})]})}})}),Object(x.jsxs)("div",{className:k.a.formRow,children:[Object(x.jsx)(P.a,{name:"rememberMe",component:"input",type:"checkbox"})," ",Object(x.jsx)("p",{children:"remember me"})]}),Object(x.jsx)("div",{className:k.a.errorMessage,children:r}),Object(x.jsx)("div",{className:k.a.formRow,children:Object(x.jsx)("button",{className:k.a.formRow,type:"submit",children:"Login"})})]})})}})},S=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(x.jsx)(y,Object(p.a)({},this.props))}}]),n}(l.Component),E=Object(j.b)((function(e){return{isAuth:e.auth.isAuth,message:e.auth.messageError}}),{authLogin:w.a})(S),T=n(10),I=n.n(T),C=function(){return Object(x.jsxs)("nav",{className:I.a.nav,children:[Object(x.jsx)("div",{className:I.a.item,children:Object(x.jsx)(b.b,{to:"/profile",activeClassName:I.a.activeLink,children:"Profile"})}),Object(x.jsx)("div",{className:I.a.item,children:Object(x.jsx)(b.b,{to:"/dialogs",activeClassName:I.a.activeLink,children:"Messages"})}),Object(x.jsx)("div",{className:I.a.item,children:Object(x.jsx)(b.b,{to:"/news",activeClassName:I.a.activeLink,children:"News"})}),Object(x.jsx)("div",{className:I.a.item,children:Object(x.jsx)(b.b,{to:"/music",activeClassName:I.a.activeLink,children:"Music"})}),Object(x.jsx)("div",{className:I.a.item,children:Object(x.jsx)(b.b,{to:"/users",activeClassName:I.a.activeLink,children:"Users"})}),Object(x.jsx)("div",{className:I.a.item,children:Object(x.jsx)(b.b,{to:"/setting",activeClassName:I.a.activeLink,children:"Setting"})})]})},L=n(5),A=n.n(L),R=n(9),F=n(28),U=n(15),M="ADD_POST",B="profileReducer/SET_USERS_PROFILE",D="profilePage/SET_TEXT_STATUS",z="profilePage/DELETE_POST",G="profilePage/SET_PHOTO_SUCCESS",H={posts:[{id:1,message:"Hi, how are you?",likeCounter:12},{id:2,message:"It's my first post",likeCounter:15}],profile:null,usersStatus:""},J=function(e){return{type:D,text:e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:var n={id:5,message:t.postText,likeCounter:0};return Object(p.a)(Object(p.a)({},e),{},{posts:[].concat(Object(F.a)(e.posts),[n])});case B:return Object(p.a)(Object(p.a)({},e),{},{profile:t.profile});case D:return Object(p.a)(Object(p.a)({},e),{},{usersStatus:t.text});case G:return Object(p.a)(Object(p.a)({},e),{},{profile:Object(p.a)(Object(p.a)({},e.profile),{},{photos:t.photos.data.photos})});case z:return Object(p.a)(Object(p.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postID}))});default:return e}},W=n(41),V=n.n(W),Y=n(56),Z=n.n(Y),q=function(e){var t=e.message,n=e.likeCounter;return Object(x.jsxs)("div",{className:Z.a.item,children:[Object(x.jsx)("img",{src:"https://pixelbox.ru/wp-content/uploads/2020/12/ava-vk-cats-70.jpg"}),t,Object(x.jsx)("div",{children:Object(x.jsxs)("span",{children:[n," Like"]})})]})},Q=n(32),K=n.n(Q),$=n(34),ee=n.n($),te=function(e){var t=e.onAddPost;return Object(x.jsx)(P.b,{onSubmit:function(e){e.newPostText&&t(e.newPostText)},validate:function(e){var t={};return e.newPostText&&e.newPostText.length>100&&(t.newPostText="post must not exceed 100 characters"),t},render:function(e){var t=e.handleSubmit;return Object(x.jsx)("form",{className:K.a.railway,onSubmit:t,children:Object(x.jsxs)("div",{className:K.a.textarea,children:[Object(x.jsx)("h3",{children:"My posts"}),Object(x.jsx)("div",{className:K.a.postBlock,children:Object(x.jsx)(P.a,{name:"newPostText",render:function(e){var t=e.input,n=e.meta;return Object(x.jsxs)("div",{children:[Object(x.jsx)("textarea",Object(p.a)({},t)),n.error&&Object(x.jsx)("div",{className:K.a.error,children:n.error})]})}})}),Object(x.jsx)("div",{className:ee.a.buttonBlock,children:Object(x.jsx)("button",{type:"submit",children:Object(x.jsx)("span",{children:"Add Post"})})})]})})}})},ne=Object(l.memo)((function(e){var t=e.posts.map((function(e){return Object(x.jsx)(q,{message:e.message,likeCounter:e.likeCounter},e.key)}));return Object(x.jsxs)("div",{className:V.a.item,children:[Object(x.jsx)("div",{className:V.a.postBlock,children:Object(x.jsx)(te,{onAddPost:e.onAddPost})}),t]})})),re=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(x.jsx)(ne,Object(p.a)({},this.props))}}]),n}(l.Component),ae=Object(j.b)((function(e){return{newPostText:e.profilePage.newPostText,posts:e.profilePage.posts,authorizedUserId:e.auth.id,users:e.usersPage.users}}),{onAddPost:function(e){return{type:M,postText:e}}})(re),se=(n(95),n(29)),ce=n(24),ie=n(7),oe=n.n(ie),ue=n(51),le=n.p+"static/media/background.51b6c601.jpg",je=n(57),de=n.n(je),be=n.p+"static/media/notJob.9e249843.png",fe=n.p+"static/media/job.de645b12.png",pe=n(58),Oe=n.n(pe),he=function(e){var t=Object(l.useState)(!1),n=Object(se.a)(t,2),r=n[0],a=n[1],s=Object(l.useState)(e.usersStatus),c=Object(se.a)(s,2),i=c[0],o=c[1];Object(l.useEffect)((function(){o(e.usersStatus)}),[e.usersStatus]);return Object(x.jsx)("div",{className:Oe.a.statusItems,children:r?Object(x.jsx)("div",{children:Object(x.jsx)("input",{onChange:function(e){o(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),e.updateTextStatus(i)},value:i})}):Object(x.jsx)("div",{children:Object(x.jsxs)("span",{onClick:function(){a(!0)},children:[i||"No Status"," "]})})})},me=function(e){var t=function(e){var t=e.contactTitle,n=e.contactValue;return Object(x.jsxs)("div",{className:oe.a.contactsMe,children:[Object(x.jsxs)("b",{children:[t," :"]}),Object(x.jsx)("span",{className:oe.a.addFont,children:n||"No information"})]})};return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:oe.a.description,children:[Object(x.jsxs)("div",{className:oe.a.fullName,children:[e.profile.fullName,Object(x.jsx)("img",{src:e.profile.lookingForAJob?be:fe,title:e.profile.lookingForAJob?"looking for work":"not looking for work"})]}),Object(x.jsx)(he,Object(p.a)({},e)),Object(x.jsxs)("div",{className:oe.a.aboutMe,children:[Object(x.jsx)("b",{children:"About Me: "}),e.profile.aboutMe]}),e.profile.lookingForAJobDescription&&Object(x.jsxs)("div",{className:oe.a.aboutMe,children:[Object(x.jsx)("b",{children:"My professional skills:"})," ",e.profile.lookingForAJobDescription]}),Object(x.jsxs)("div",{className:oe.a.aboutMe,children:[Object(x.jsx)("b",{children:"Contacts: "}),Object.keys(e.profile.contacts).map((function(n){return Object(x.jsx)(t,{contactTitle:n,contactValue:e.profile.contacts[n]},n)}))]})]})})},xe=n(25),ve=n.n(xe),ge=function(e,t){t.onAddPost,t.profile;var n=function(e){var t=e.contactTitle,n=e.contactValue;return Object(x.jsxs)("div",{className:oe.a.contactsMe,children:[Object(x.jsxs)("b",{children:[t," :"]})," ",Object(x.jsx)("span",{className:oe.a.addFont,children:n||"No information"})]})};return e.profile?Object(x.jsx)(P.b,{onSubmit:function(t){t.newPostText&&e.onAddPost(t.newPostText)},validate:function(e){var t={};return e.newPostText&&e.newPostText.length>100&&(t.newPostText="post must not exceed 100 characters"),t},render:function(t){var r=t.handleSubmit;return Object(x.jsx)("form",{className:oe.a.railway,onSubmit:r,children:Object(x.jsxs)("div",{className:ve.a.description,children:[Object(x.jsx)("div",{className:ve.a.formRow,children:Object(x.jsx)(P.a,{name:"fullName",render:function(e){var t=e.input,n=e.meta;return Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Your Nickname?"})," ",Object(x.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text"})),n.touched&&(n.error||n.submitError)&&Object(x.jsx)("div",{className:oe.a.error,children:n.error||n.submitError})]})}})}),Object(x.jsxs)("div",{className:ve.a.checkbox,children:[Object(x.jsx)("b",{children:"Looking for a job?"}),Object(x.jsx)(P.a,{name:"lookingForAJob",component:"input",type:"checkbox"})]}),Object(x.jsx)("div",{className:ve.a.formRow,children:Object(x.jsx)(P.a,{name:"aboutMe",render:function(e){var t=e.input,n=e.meta;return Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"About Me: "})," ",Object(x.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text"})),n.touched&&(n.error||n.submitError)&&Object(x.jsx)("div",{className:oe.a.error,children:n.error||n.submitError})]})}})}),Object(x.jsx)("div",{className:ve.a.formRow,children:Object(x.jsx)(P.a,{name:"profSkills",render:function(e){var t=e.input,n=e.meta;return Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"My professional skills:"})," ",Object(x.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text"})),n.touched&&(n.error||n.submitError)&&Object(x.jsx)("div",{className:oe.a.error,children:n.error||n.submitError})]})}})}),Object(x.jsxs)("div",{className:ve.a.formRow,children:[Object(x.jsx)("b",{children:"Contacts: "})," ",Object.keys(e.profile.contacts).map((function(t){return Object(x.jsx)(n,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))," "]})]})})}}):Object(x.jsx)(ce.a,{})},_e=function(e){var t=Object(l.useState)(!1),n=Object(se.a)(t,2),r=n[0],a=n[1];return e.profile?Object(x.jsxs)("div",{className:oe.a.profileItems,children:[Object(x.jsx)("div",{className:oe.a.item,children:Object(x.jsx)("img",{src:le})}),Object(x.jsxs)("div",{className:oe.a.descriptionBlock,children:[Object(x.jsx)("img",{src:e.profile.photos.large?e.profile.photos.large:ue.a}),Object(x.jsx)("div",{className:oe.a.ownerItem,children:!e.isOwner&&Object(x.jsx)("input",{className:de.a,type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})}),Object(x.jsx)("div",{className:ee.a.buttonBlock,children:!e.isOwner&&Object(x.jsx)("button",{onClick:function(){a(!0)},type:"submit",children:Object(x.jsx)("span",{children:"edit profile"})})})]}),Object(x.jsx)("div",{children:r?Object(x.jsx)(ge,Object(p.a)({},e)):Object(x.jsx)(me,Object(p.a)({},e))})]}):Object(x.jsx)(ce.a,{})},we=function(e){return Object(x.jsxs)("main",{children:[Object(x.jsx)(_e,Object(p.a)({},e)),Object(x.jsx)(ae,{})]})},Pe=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getTextStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(x.jsx)(we,Object(p.a)(Object(p.a)({},this.props),{},{isOwner:this.props.match.params.userId}))}}]),n}(l.Component),Ne=Object(f.c)(d.f,Object(j.b)((function(e){return{profile:e.profilePage.profile,usersStatus:e.profilePage.usersStatus,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getProfile:function(e){return function(){var t=Object(R.a)(A.a.mark((function t(n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.a.getProfile(e);case 2:r=t.sent,n({type:B,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getTextStatus:function(e){return function(){var t=Object(R.a)(A.a.mark((function t(n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.a.getUserStatus(e);case 2:r=t.sent,n(J(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateTextStatus:function(e){return function(){var t=Object(R.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.a.updateUserStatus(e);case 2:0===t.sent.resultCode&&n(J(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(R.a)(A.a.mark((function t(n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.a.savePhoto(e);case 2:0===(r=t.sent).resultCode&&n({type:G,photos:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(Pe),ke="app/INITIALIZED_SUCCESS",ye={initialize:!1},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(p.a)(Object(p.a)({},e),{},{initialize:!0});default:return e}},Ee=n(52),Te=n(53),Ie=n(59),Ce=Object(f.b)({app:Se,profilePage:X,dialogsPage:Ee.a,usersPage:Te.a,auth:w.b}),Le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.c,Ae=Object(f.d)(Ce,Le(Object(f.a)(Ie.a)));window.__store__=Ae;var Re=Ae,Fe=function(e){return function(t){return Object(x.jsx)(l.Suspense,{fallback:Object(x.jsx)(ce.a,{}),children:Object(x.jsx)(e,Object(p.a)({},t))})}},Ue=Object(l.lazy)((function(){return n.e(3).then(n.bind(null,108))})),Me=Object(l.lazy)((function(){return n.e(6).then(n.bind(null,106))})),Be=Object(l.lazy)((function(){return n.e(5).then(n.bind(null,110))})),De=Object(l.lazy)((function(){return n.e(7).then(n.bind(null,107))})),ze=Object(l.lazy)((function(){return n.e(4).then(n.bind(null,109))})),Ge=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeAPP()}},{key:"render",value:function(){return this.props.initialize?Object(x.jsxs)("div",{className:"app-wrapper",children:[Object(x.jsx)(_,{}),Object(x.jsx)(C,{}),Object(x.jsxs)("div",{className:"app-wrapper-content",children:[Object(x.jsx)(d.b,{path:"/login",render:function(){return Object(x.jsx)(E,{})}}),Object(x.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object(x.jsx)(Ne,{})}}),Object(x.jsx)(d.b,{path:"/dialogs",render:Fe(Ue)}),Object(x.jsx)(d.b,{path:"/News",render:Fe(De)}),Object(x.jsx)(d.b,{path:"/music",render:Fe(Me)}),Object(x.jsx)(d.b,{path:"/users",render:Fe(ze)}),Object(x.jsx)(d.b,{path:"/setting",render:Fe(Be)})]})]}):Object(x.jsx)(ce.a,{})}}]),n}(l.Component),He=Object(f.c)(d.f,Object(j.b)((function(e){return{initialize:e.app.initialize}}),{initializeAPP:function(){return function(e){var t=e(Object(w.c)());Promise.all([t]).then((function(){e({type:ke})}))}}}))(Ge),Je=function(){return Object(x.jsx)(b.a,{children:Object(x.jsx)(j.a,{store:Re,children:Object(x.jsx)(He,{})})})};s.a.render(Object(x.jsx)(Je,{}),document.getElementById("root")),r()}},[[96,1,2]]]);
//# sourceMappingURL=main.a2ba7caf.chunk.js.map