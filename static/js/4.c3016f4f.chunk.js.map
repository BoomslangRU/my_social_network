{"version":3,"sources":["components/common/Pagination/Pagination.module.css","components/Users/Users.module.css","redux/users-selectors.js","components/common/Pagination/Pagination.js","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.js"],"names":["module","exports","getUsers","state","usersPage","users","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","Pagination","onPageChanged","setCurrentPage","pagesCount","Math","ceil","pages","useState","prevPage","setPrevPage","nextPage","setNextPage","useEffect","i","push","className","s","selectedPage","onClick","map","p","activeSelectedPage","undefined","User","user","followUsers","unfollowUsers","usersItem","avatarItem","to","id","src","photos","small","userPhoto","image","alt","buttonItem","followed","disabled","some","button_follow","infoItem","name","status","locationItem","Users","props","u","UsersAPIComponent","pageNumber","requestUsers","render","Preloader","this","Component","compose","connect","toggleFollowingProgress"],"mappings":"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","file":"static/js/4.c3016f4f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Pagination_selectedPage__pEKWM\",\"activeSelectedPage\":\"Pagination_activeSelectedPage__1-ZN4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersItem\":\"Users_usersItem__21zaw\",\"avatarItem\":\"Users_avatarItem__3i3JN\",\"infoItem\":\"Users_infoItem__3DmG4\",\"locationItem\":\"Users_locationItem__2hNAF\",\"name\":\"Users_name__1jqWw\",\"image\":\"Users_image__2yLOh\",\"buttonItem\":\"Users_buttonItem__3vrqU\",\"button_follow\":\"Users_button_follow__1QnVP\"};","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import { useEffect, useState } from 'react'\r\nimport s from './Pagination.module.css'\r\n\r\n\r\nconst Pagination = ({ totalUsersCount, pageSize, currentPage, onPageChanged, setCurrentPage }) => {\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n    let pages = []\r\n    let [prevPage, setPrevPage] = useState(false)\r\n    let [nextPage, setNextPage] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (currentPage > 9) {\r\n            setPrevPage(true)\r\n        } else {\r\n            setPrevPage(false)\r\n        }\r\n    }, [currentPage])\r\n\r\n    useEffect(() => {\r\n        if (currentPage < (pagesCount - 9)) {\r\n            setNextPage(true)\r\n        } else {\r\n            setNextPage(false)\r\n        }\r\n    }, [currentPage, pagesCount])\r\n\r\n    useEffect(() => {\r\n        onPageChanged(currentPage)\r\n    }, [onPageChanged, currentPage])\r\n\r\n\r\n    const prevClickSpan = () => {\r\n        if (currentPage < 9) {\r\n            setCurrentPage(1)\r\n        } else {\r\n            setCurrentPage(currentPage - 9)\r\n        }\r\n    }\r\n\r\n    const nextClickSpan = () => {\r\n        setCurrentPage(currentPage + 9)\r\n    }\r\n\r\n\r\n    if (pagesCount > 9) {\r\n        if (currentPage > 5) {\r\n            for (let i = currentPage - 4; i <= currentPage + 4; i++) {\r\n                pages.push(i)\r\n                if (i === pagesCount) break\r\n            }\r\n        } else {\r\n            for (let i = 1; i <= 9; i++) {\r\n                pages.push(i)\r\n                if (i === pagesCount) break\r\n            }\r\n        }\r\n    } else {\r\n        for (let i = 1; i <= pagesCount; i++) {\r\n            pages.push(i)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.selectedPage}>\r\n            {!!prevPage && <span onClick={prevClickSpan}>prev  </span>}\r\n            {pages.map(p => {\r\n                return <span className={currentPage === p ? s.activeSelectedPage : undefined}\r\n                    key={p} onClick={() => { onPageChanged(p) }} >{p} </span>\r\n            })}\r\n            {!!nextPage && <span onClick={nextClickSpan}>  next</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination","import s from './Users.module.css'\r\nimport userPhoto from '../../assets/images/users.png'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\n\r\nconst User = ({ user, followingInProgress, followUsers, unfollowUsers }) => {\r\n    return <div>\r\n        <div className={s.usersItem}>\r\n            <div className={s.avatarItem}>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                        className={s.image} alt='user' />\r\n                </NavLink>\r\n                <div className={s.buttonItem}>\r\n                    {user.followed ?\r\n                        <button disabled={followingInProgress.some(id => id === user.id)} className={s.button_follow}\r\n                            onClick={() => {\r\n                                followUsers(user.id)\r\n                            }} > Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                unfollowUsers(user.id)\r\n                            }}>Follow</button>}\r\n                </div>\r\n            </div>\r\n            <div className={s.infoItem}>\r\n                <div className={s.name}>{user.name}</div>\r\n                <div>{user.status}</div>\r\n            </div>\r\n            <div className={s.locationItem}>\r\n                <div>{'u.country'}</div>\r\n                <div>{'u.city'}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default User","import Pagination from '../common/Pagination/Pagination'\r\nimport User from './User'\r\n\r\n\r\nconst Users = (props) => {\r\n    return <div>\r\n        <Pagination setCurrentPage={props.setCurrentPage}\r\n            totalUsersCount={props.totalUsersCount}\r\n            pageSize={props.pageSize}\r\n            currentPage={props.currentPage}\r\n            onPageChanged={props.onPageChanged}\r\n        />\r\n        {props.users.map(u =>\r\n            <User key={u.id}\r\n                user={u}\r\n                followingInProgress={props.followingInProgress}\r\n                followUsers={props.followUsers}\r\n                unfollowUsers={props.unfollowUsers}\r\n            />)}\r\n    </div >\r\n}\r\n\r\nexport default Users","import { connect } from 'react-redux'\r\nimport { requestUsers, followUsers, setCurrentPage, unfollowUsers, toggleFollowingProgress } from '../../redux/usersReducer'\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors'\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport { compose } from 'redux'\r\nimport { Component } from 'react'\r\n\r\n\r\nclass UsersAPIComponent extends Component {\r\n    componentDidMount() {\r\n        const { currentPage, pageSize } = this.props\r\n        this.props.requestUsers(currentPage, pageSize)\r\n    }\r\n    onPageChanged = (pageNumber) => {\r\n        const { pageSize } = this.props\r\n        this.props.requestUsers(pageNumber, pageSize)\r\n        this.props.setCurrentPage(pageNumber)\r\n    }\r\n    render = () => {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users {...this.props} onPageChanged={this.onPageChanged} />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n})\r\n\r\n\r\nexport default compose(\r\n    // withAuthRedirect,\r\n    connect(mapStateToProps, { followUsers, unfollowUsers, setCurrentPage, toggleFollowingProgress, requestUsers })\r\n)(UsersAPIComponent)"],"sourceRoot":""}