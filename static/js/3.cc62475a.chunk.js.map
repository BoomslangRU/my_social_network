{"version":3,"sources":["hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogForm/DialogsForm.module.css","components/Dialogs/DialogForm/DialogForm.jsx","components/Dialogs/DialogItem/DialogsItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.js"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","DialogForm","onSubmit","e","massageBody","sendMessage","validate","errors","length","render","handleSubmit","className","s","railway","textarea","formRow","name","input","meta","placeholder","error","styleButton","buttonBlock","type","DialogItem","path","id","dialog","activeClassName","activeLink","Message","message","Dialogs","dialogsPage","dialogsElements","dialogs","map","d","messagesElements","messages","m","dialogItem","compose"],"mappings":"oOAIIA,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,SAGVE,EAAmB,SAACC,GAAe,IACtCC,EADqC,4JAEvC,WACI,OAAKC,KAAKC,MAAMN,OACT,cAACG,EAAD,eAAeE,KAAKC,QADI,cAAC,IAAD,CAAUC,GAAG,eAHT,GACXC,IAAML,WAOtC,OADqCM,YAAQX,EAARW,CAAoCL,K,oBCd7EM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,WAAa,4BAA4B,WAAa,4BAA4B,SAAW,4B,oBCAlJD,EAAOC,QAAU,CAAC,SAAW,8BAA8B,MAAQ,2BAA2B,QAAU,+B,uIC8CzFC,EA3CI,SAACN,GAgBhB,OACI,cAAC,IAAD,CACIO,SAhBS,SAACC,GACVA,EAAEC,cACNT,EAAMU,YAAYF,EAAEC,aACpBD,EAAEC,YAAc,KAcZE,SAXS,SAACH,GACd,IAAMI,EAAS,GAIf,OAHIJ,EAAEC,aAAeD,EAAEC,YAAYI,OAAS,KAC1CD,EAAOH,YAAc,0CAEhBG,GAOHE,OAAQ,gBAAGC,EAAH,EAAGA,aAAH,OACJ,sBAAMC,UAAWC,IAAEC,QAASX,SAAUQ,EAAtC,SACI,sBAAKC,UAAWC,IAAEE,SAAlB,UACI,qBAAKH,UAAWC,IAAEG,QAAlB,SACI,cAAC,IAAD,CAAOC,KAAK,cACRP,OAAQ,gBAAGQ,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACJ,gCACI,oDAAcD,GAAd,IAAqBE,YAAY,wBAChCD,EAAKE,OAAS,qBAAKT,UAAWC,IAAEQ,MAAlB,SAA0BF,EAAKE,gBAK9D,qBAAKT,UAAWU,IAAYC,YAA5B,SACI,wBAAQX,UAAWC,IAAEG,QAASQ,KAAK,SAAnC,oC,0BCzBbC,EAVI,SAAC7B,GAChB,IAAI8B,EAAO,YAAc9B,EAAM+B,GAE/B,OACI,qBAAKf,UAAWC,IAAEe,OAAlB,SACI,cAAC,IAAD,CAAS/B,GAAI6B,EAAMG,gBAAiBhB,IAAEiB,WAAtC,SAAmDlC,EAAMqB,UCFtDc,EAJC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACf,OAAO,qBAAKpB,UAAWC,IAAEmB,QAAlB,SAA4BA,KCoBxBC,EAjBC,SAAC,GAAgC,IAA/BC,EAA8B,EAA9BA,YAAa5B,EAAiB,EAAjBA,YACvB6B,EAAkBD,EAAYE,QAAQC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAYrB,KAAMqB,EAAErB,KAAiBU,GAAIW,EAAEX,IAAZW,EAAEX,OAChFY,EAAmBL,EAAYM,SAASH,KAAI,SAAAI,GAAC,OAAI,cAAC,EAAD,CAAST,QAASS,EAAET,SAAcS,EAAEd,OAEzF,OACI,sBAAKf,UAAWC,IAAEuB,QAAlB,UACI,qBAAKxB,UAAWC,IAAE6B,WAAlB,SACKP,IAEL,sBAAKvB,UAAWC,IAAE2B,SAAlB,UACKD,EACD,cAAC,EAAD,CAAYjC,YAAaA,WCN1BqC,sBACXnD,IACAO,aAPkB,SAACV,GAAD,MAAY,CAC9B6C,YAAa7C,EAAM6C,eAMM,CAAE5B,kBAFhBqC,CAGbV","file":"static/js/3.cc62475a.chunk.js","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__4NYWR\",\"dialogItem\":\"Dialogs_dialogItem__3S-bA\",\"activeLink\":\"Dialogs_activeLink__2D52P\",\"messages\":\"Dialogs_messages__3_5Ec\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"DialogsForm_textarea__20T3C\",\"error\":\"DialogsForm_error__3sIgi\",\"formRow\":\"DialogsForm_formRow__1Mtoy\"};","import { Form, Field } from 'react-final-form'\r\nimport s from './DialogsForm.module.css'\r\nimport styleButton from '../../../styles/styleButton.module.css'\r\n\r\nconst DialogForm = (props) => {\r\n\r\n    const onSubmit = (e) => {\r\n        if (e.massageBody) {\r\n        props.sendMessage(e.massageBody)\r\n        e.massageBody = ''\r\n        }\r\n    }\r\n    const validate = (e) => {\r\n        const errors = {}\r\n        if (e.massageBody && e.massageBody.length > 80) {\r\n          errors.massageBody = 'massages must not exceed 80 characters'\r\n        }\r\n        return errors\r\n    }\r\n\r\n    return (\r\n        <Form\r\n            onSubmit={onSubmit}\r\n            validate={validate}\r\n            render={({ handleSubmit }) => (\r\n                <form className={s.railway} onSubmit={handleSubmit}>\r\n                    <div className={s.textarea}>\r\n                        <div className={s.formRow}>\r\n                            <Field name='massageBody'\r\n                                render={({ input, meta }) => (\r\n                                    <div>\r\n                                        <textarea {...input} placeholder='Enter your massage' />\r\n                                        {meta.error && <div className={s.error}>{meta.error}</div>}\r\n                                    </div>\r\n                                )}\r\n                            />\r\n                        </div>\r\n                        <div className={styleButton.buttonBlock}>\r\n                            <button className={s.formRow} type='submit'>Add Message</button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            )}\r\n        />\r\n    )\r\n}\r\n\r\nexport default DialogForm","import { NavLink } from 'react-router-dom'\r\nimport s from './../Dialogs.module.css'\r\n\r\nconst DialogItem = (props) => {\r\n    let path = '/dialogs/' + props.id\r\n\r\n    return (\r\n        <div className={s.dialog}>\r\n            <NavLink to={path} activeClassName={s.activeLink}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem","import s from './../Dialogs.module.css'\r\n\r\nconst Message = ({ message }) => {\r\n    return <div className={s.message}>{message}</div>\r\n}\r\n\r\nexport default Message","import DialogForm from './DialogForm/DialogForm'\r\nimport DialogItem from './DialogItem/DialogsItem'\r\nimport Message from './Message/Message'\r\nimport s from './Dialogs.module.css'\r\n\r\n\r\nconst Dialogs = ({dialogsPage, sendMessage}) => {\r\n    let dialogsElements = dialogsPage.dialogs.map(d => <DialogItem name={d.name} key={d.id} id={d.id} />)\r\n    let messagesElements = dialogsPage.messages.map(m => <Message message={m.message} key={m.id} />)\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogItem}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n                <DialogForm sendMessage={sendMessage} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs\r\n","import { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { sendMessage } from '../../redux/dialogsReducer'\r\nimport Dialogs from './Dialogs'\r\n\r\nlet mapStateToProps = (state) => ({\r\n    dialogsPage: state.dialogsPage\r\n})\r\n\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, { sendMessage })\r\n)(Dialogs)"],"sourceRoot":""}